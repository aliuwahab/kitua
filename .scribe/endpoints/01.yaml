name: Authentication
description: ''
endpoints:
  -
    httpMethods:
      - POST
    uri: api/v1/auth/register
    metadata:
      groupName: Authentication
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Initiate registration/login - Send PIN via SMS'
      description: ''
      authenticated: false
      deprecated: false
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      mobile_number:
        name: mobile_number
        description: "User's mobile number."
        required: true
        example: '233244123456'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      first_name:
        name: first_name
        description: "User's first name."
        required: true
        example: John
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      surname:
        name: surname
        description: "User's surname."
        required: true
        example: Doe
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      other_names:
        name: other_names
        description: "optional User's other names."
        required: false
        example: Michael
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      provider:
        name: provider
        description: 'optional Mobile money provider.'
        required: false
        example: MTN
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      device_id:
        name: device_id
        description: 'Unique device identifier.'
        required: true
        example: ABC123
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      device_name:
        name: device_name
        description: 'optional User-friendly device name.'
        required: false
        example: "John's iPhone"
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      device_type:
        name: device_type
        description: 'Device type (android/ios).'
        required: true
        example: android
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      app_version:
        name: app_version
        description: 'optional App version.'
        required: false
        example: 1.0.0
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      os_version:
        name: os_version
        description: 'optional OS version.'
        required: false
        example: 'Android 12'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      device_model:
        name: device_model
        description: 'optional Device model.'
        required: false
        example: 'Samsung Galaxy S21'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      screen_resolution:
        name: screen_resolution
        description: 'optional Screen resolution.'
        required: false
        example: 1080x2340
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      push_token:
        name: push_token
        description: 'optional Firebase push token for notifications.'
        required: false
        example: architecto
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
    cleanBodyParameters:
      mobile_number: '233244123456'
      first_name: John
      surname: Doe
      other_names: Michael
      provider: MTN
      device_id: ABC123
      device_name: "John's iPhone"
      device_type: android
      app_version: 1.0.0
      os_version: 'Android 12'
      device_model: 'Samsung Galaxy S21'
      screen_resolution: 1080x2340
      push_token: architecto
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "data": {
              "type": "registration",
              "id": "689f7aae2da9f",
              "attributes": {
                "userExists": false,
                "mobileNumber": "233244123456",
                "message": "Registration PIN sent to your mobile number",
                "pin": "250964"
              },
              "links": {
                "verifyPin": "http://localhost/api/v1/auth/verify-pin",
                "login": "http://localhost/api/v1/auth/login"
              }
            },
            "message": "Registration PIN sent to your mobile number",
            "status": 200
          }
        headers: []
        description: ''
        custom: []
      -
        status: 422
        content: |-
          {
            "message": "Validation failed",
            "errors": {
              "mobile_number": ["This mobile number is already registered."]
            },
            "status": 422
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - POST
    uri: api/v1/auth/verify-pin
    metadata:
      groupName: Authentication
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Verify PIN to complete registration/login'
      description: ''
      authenticated: false
      deprecated: false
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      mobile_number:
        name: mobile_number
        description: 'Mobile number used in registration.'
        required: true
        example: '233244123456'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      pin:
        name: pin
        description: '6-digit PIN received via SMS.'
        required: true
        example: '123456'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      device_id:
        name: device_id
        description: 'Unique device identifier.'
        required: true
        example: ABC123
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      device_name:
        name: device_name
        description: 'optional User-friendly device name.'
        required: false
        example: "John's iPhone"
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      device_type:
        name: device_type
        description: 'Device type (android/ios).'
        required: true
        example: android
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      app_version:
        name: app_version
        description: 'optional App version.'
        required: false
        example: 1.0.0
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      os_version:
        name: os_version
        description: 'optional OS version.'
        required: false
        example: 'Android 12'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      device_model:
        name: device_model
        description: 'optional Device model.'
        required: false
        example: 'Samsung Galaxy S21'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      screen_resolution:
        name: screen_resolution
        description: 'optional Screen resolution.'
        required: false
        example: 1080x2340
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      push_token:
        name: push_token
        description: 'optional Firebase push token for notifications.'
        required: false
        example: architecto
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
    cleanBodyParameters:
      mobile_number: '233244123456'
      pin: '123456'
      device_id: ABC123
      device_name: "John's iPhone"
      device_type: android
      app_version: 1.0.0
      os_version: 'Android 12'
      device_model: 'Samsung Galaxy S21'
      screen_resolution: 1080x2340
      push_token: architecto
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "data": {
              "type": "authentication",
              "id": "0198aef7-7dd4-73f5-b45b-ffa0e2f2cd76",
              "attributes": {
                "token": "1|1U35ymFSmoMn02wdjtQNVALwbJhHw2epENTb7a1Bbeb73e31",
                "isNewUser": true,
                "isNewDevice": true,
                "userExists": null,
                "mobileNumber": "233244123456",
                "message": null,
                "pin": null
              },
              "relationships": {
                "user": {
                  "data": {
                    "type": "user",
                    "id": "0198aef7-7dd4-73f5-b45b-ffa0e2f2cd76"
                  },
                  "links": {
                    "self": "#"
                  }
                }
              },
              "includes": {
                "user": {
                  "type": "user",
                  "id": "0198aef7-7dd4-73f5-b45b-ffa0e2f2cd76",
                  "attributes": {
                    "mobileNumber": "233244123456",
                    "firstName": "John",
                    "surname": "Doe",
                    "otherNames": null,
                    "fullName": "John Doe",
                    "userType": "customer",
                    "isActive": true,
                    "emailVerifiedAt": null,
                    "createdAt": "2025-08-15T18:21:51.000000Z",
                    "updatedAt": "2025-08-15T18:21:51.000000Z"
                  },
                  "relationships": {
                    "country": {
                      "data": {
                        "type": "country",
                        "id": "53c153e8-9d2d-4b60-9844-985e6e2c7db2"
                      },
                      "links": {
                        "self": "http://localhost/api/v1/countries/53c153e8-9d2d-4b60-9844-985e6e2c7db2"
                      }
                    },
                    "paymentAccounts": {
                      "data": [
                        {
                          "type": "paymentAccount",
                          "id": "0198aef7-7dd6-7097-830d-fabd3845c8b7"
                        }
                      ],
                      "links": {
                        "related": "#"
                      }
                    }
                  },
                  "includes": {
                    "paymentAccounts": [
                      {
                        "type": "paymentAccount",
                        "id": "0198aef7-7dd6-7097-830d-fabd3845c8b7",
                        "attributes": {
                          "accountType": "momo",
                          "accountNumber": "233244123456",
                          "accountName": "John Doe",
                          "provider": null,
                          "isPrimary": true,
                          "isVerified": false,
                          "isActive": null,
                          "verifiedAt": null,
                          "createdAt": "2025-08-15T18:21:51.000000Z",
                          "updatedAt": "2025-08-15T18:21:51.000000Z"
                        },
                        "relationships": {
                          "user": {
                            "data": {
                              "type": "user",
                              "id": "0198aef7-7dd4-73f5-b45b-ffa0e2f2cd76"
                            },
                            "links": {
                              "self": "#"
                            }
                          }
                        },
                        "links": {
                          "self": "#"
                        }
                      }
                    ]
                  },
                  "links": {
                    "self": "#"
                  }
                }
              },
              "links": {
                "self": "#"
              }
            },
            "message": "Authentication successful",
            "status": 200
          }
        headers: []
        description: ''
        custom: []
      -
        status: 422
        content: |-
          {
            "message": "Invalid PIN or mobile number",
            "status": 422
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - POST
    uri: api/v1/auth/login
    metadata:
      groupName: Authentication
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Alternative login endpoint (uses same flow as register)'
      description: ''
      authenticated: false
      deprecated: false
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      mobile_number:
        name: mobile_number
        description: 'Mobile number used for login.'
        required: true
        example: '233244123456'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      pin:
        name: pin
        description: '6-digit PIN for authentication.'
        required: true
        example: '123456'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      device_id:
        name: device_id
        description: 'Unique device identifier.'
        required: true
        example: ABC123
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      device_name:
        name: device_name
        description: 'optional User-friendly device name.'
        required: false
        example: "John's iPhone"
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      device_type:
        name: device_type
        description: 'Device type (android/ios).'
        required: true
        example: android
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      app_version:
        name: app_version
        description: 'optional App version.'
        required: false
        example: 1.0.0
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      os_version:
        name: os_version
        description: 'optional OS version.'
        required: false
        example: 'Android 12'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      device_model:
        name: device_model
        description: 'optional Device model.'
        required: false
        example: 'Samsung Galaxy S21'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      screen_resolution:
        name: screen_resolution
        description: 'optional Screen resolution.'
        required: false
        example: 1080x2340
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      push_token:
        name: push_token
        description: 'optional Firebase push token for notifications.'
        required: false
        example: architecto
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
    cleanBodyParameters:
      mobile_number: '233244123456'
      pin: '123456'
      device_id: ABC123
      device_name: "John's iPhone"
      device_type: android
      app_version: 1.0.0
      os_version: 'Android 12'
      device_model: 'Samsung Galaxy S21'
      screen_resolution: 1080x2340
      push_token: architecto
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "data": {
              "type": "authentication",
              "id": 1,
              "attributes": {
                "token": "1|xyz789token123",
                "isNewUser": false,
                "isNewDevice": false,
                "userExists": null,
                "mobileNumber": "233244123456",
                "message": null,
                "pin": null
              },
              "relationships": {
                "user": {
                  "data": {
                    "type": "user",
                    "id": 1
                  },
                  "links": {
                    "self": "/api/v1/users/1"
                  }
                }
              },
              "includes": {
                "user": {
                  "type": "user",
                  "id": 1,
                  "attributes": {
                    "mobileNumber": "233244123456",
                    "firstName": "John",
                    "surname": "Doe",
                    "fullName": "John Doe",
                    "userType": "customer",
                    "isActive": true
                  }
                }
              },
              "links": {
                "self": "/api/v1/users/1"
              }
            }
          }
        headers: []
        description: 'Login successful'
        custom: []
      -
        status: 422
        content: |-
          {
            "message": "Invalid PIN or mobile number",
            "status": 422
          }
        headers: []
        description: 'Invalid credentials'
        custom: []
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - POST
    uri: api/v1/auth/logout
    metadata:
      groupName: Authentication
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Logout current device'
      description: ''
      authenticated: true
      deprecated: false
      custom: []
    headers:
      Authorization: 'Bearer Bearer {YOUR_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "data": {
              "type": "logout",
              "id": "66c8f91a8f4d3",
              "attributes": {
                "reason": "user_initiated",
                "loggedOutAt": "2025-08-15T08:45:00Z",
                "deviceSessionsCount": null,
                "message": "Logged out successfully"
              },
              "relationships": {
                "user": {
                  "data": {
                    "type": "user",
                    "id": 1
                  },
                  "links": {
                    "self": "/api/v1/users/1"
                  }
                }
              },
              "includes": {
                "user": {
                  "type": "user",
                  "id": 1,
                  "attributes": {
                    "mobileNumber": "233244123456",
                    "firstName": "John"
                  }
                }
              }
            }
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - POST
    uri: api/v1/auth/logout-all
    metadata:
      groupName: Authentication
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Logout from all devices'
      description: ''
      authenticated: true
      deprecated: false
      custom: []
    headers:
      Authorization: 'Bearer Bearer {YOUR_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "data": {
              "type": "logout",
              "id": "66c8f91a8f4d3",
              "attributes": {
                "reason": "user_initiated",
                "loggedOutAt": "2025-08-15T08:45:00Z",
                "deviceSessionsCount": 3,
                "message": "Logged out from all devices"
              },
              "relationships": {
                "user": {
                  "data": {
                    "type": "user",
                    "id": 1
                  },
                  "links": {
                    "self": "/api/v1/users/1"
                  }
                }
              },
              "includes": {
                "user": {
                  "type": "user",
                  "id": 1,
                  "attributes": {
                    "mobileNumber": "233244123456"
                  }
                }
              }
            }
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - GET
    uri: api/v1/auth/me
    metadata:
      groupName: Authentication
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Get current user profile'
      description: ''
      authenticated: true
      deprecated: false
      custom: []
    headers:
      Authorization: 'Bearer Bearer {YOUR_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "data": {
              "type": "user",
              "id": "0198aef7-c446-7064-aa5b-f97eec114ba2",
              "attributes": {
                "mobileNumber": "233337138993",
                "firstName": "Camren",
                "surname": "Simonis",
                "otherNames": "Jarrell",
                "fullName": "Camren Simonis Jarrell",
                "userType": "customer",
                "isActive": true,
                "emailVerifiedAt": null,
                "createdAt": "2025-08-15T18:22:09.000000Z",
                "updatedAt": "2025-08-15T18:22:09.000000Z"
              },
              "relationships": {
                "country": {
                  "data": {
                    "type": "country",
                    "id": "cdcd6ddb-7bd2-4775-a1c4-0d565510c79f"
                  },
                  "links": {
                    "self": "http://localhost/api/v1/countries/cdcd6ddb-7bd2-4775-a1c4-0d565510c79f"
                  }
                },
                "paymentAccounts": {
                  "data": [],
                  "links": {
                    "related": "#"
                  }
                }
              },
              "includes": {
                "country": {
                  "type": "country",
                  "id": "cdcd6ddb-7bd2-4775-a1c4-0d565510c79f",
                  "attributes": {
                    "name": "Ghana",
                    "code": "GH",
                    "dialingCode": null,
                    "currencyCode": "GHS",
                    "currencySymbol": "GH₵",
                    "currencyName": "Ghana Cedi",
                    "flag": null,
                    "isActive": true,
                    "createdAt": "2025-08-15T18:22:09.000000Z",
                    "updatedAt": "2025-08-15T18:22:09.000000Z"
                  },
                  "links": {
                    "self": "http://localhost/api/v1/countries/cdcd6ddb-7bd2-4775-a1c4-0d565510c79f"
                  }
                },
                "paymentAccounts": []
              },
              "links": {
                "self": "#"
              }
            },
            "message": "User profile retrieved successfully",
            "status": 200
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
    custom: []
