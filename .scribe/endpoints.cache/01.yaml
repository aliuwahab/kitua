## Autogenerated by Scribe. DO NOT MODIFY.

name: Authentication
description: ''
endpoints:
  -
    httpMethods:
      - POST
    uri: api/v1/auth/register
    metadata:
      groupName: Authentication
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Initiate registration/login - Send PIN via SMS'
      description: ''
      authenticated: false
      deprecated: false
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      mobile_number:
        name: mobile_number
        description: "User's mobile number."
        required: true
        example: '233244123456'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      first_name:
        name: first_name
        description: "User's first name."
        required: true
        example: John
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      surname:
        name: surname
        description: "User's surname."
        required: true
        example: Doe
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      other_names:
        name: other_names
        description: "optional User's other names."
        required: false
        example: Michael
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      provider:
        name: provider
        description: 'optional Mobile money provider.'
        required: false
        example: MTN
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      device_id:
        name: device_id
        description: 'Unique device identifier.'
        required: true
        example: ABC123
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      device_name:
        name: device_name
        description: 'optional User-friendly device name.'
        required: false
        example: "John's iPhone"
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      device_type:
        name: device_type
        description: 'Device type (android/ios).'
        required: true
        example: android
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      app_version:
        name: app_version
        description: 'optional App version.'
        required: false
        example: 1.0.0
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      os_version:
        name: os_version
        description: 'optional OS version.'
        required: false
        example: 'Android 12'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      device_model:
        name: device_model
        description: 'optional Device model.'
        required: false
        example: 'Samsung Galaxy S21'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      screen_resolution:
        name: screen_resolution
        description: 'optional Screen resolution.'
        required: false
        example: 1080x2340
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      push_token:
        name: push_token
        description: 'optional Firebase push token for notifications.'
        required: false
        example: architecto
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
    cleanBodyParameters:
      mobile_number: '233244123456'
      first_name: John
      surname: Doe
      other_names: Michael
      provider: MTN
      device_id: ABC123
      device_name: "John's iPhone"
      device_type: android
      app_version: 1.0.0
      os_version: 'Android 12'
      device_model: 'Samsung Galaxy S21'
      screen_resolution: 1080x2340
      push_token: architecto
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "data": {
              "user_exists": false,
              "mobile_number": "233244123456",
              "message": "Registration PIN sent to your mobile number",
              "pin": "123456"
            },
            "message": "PIN sent successfully",
            "status": 200
          }
        headers: []
        description: ''
        custom: []
      -
        status: 422
        content: |-
          {
            "message": "Validation failed",
            "errors": {
              "mobile_number": ["This mobile number is already registered."]
            },
            "status": 422
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - POST
    uri: api/v1/auth/verify-pin
    metadata:
      groupName: Authentication
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Verify PIN to complete registration/login'
      description: ''
      authenticated: false
      deprecated: false
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      mobile_number:
        name: mobile_number
        description: 'Mobile number used in registration.'
        required: true
        example: '233244123456'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      pin:
        name: pin
        description: '6-digit PIN received via SMS.'
        required: true
        example: '123456'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      device_id:
        name: device_id
        description: 'Unique device identifier.'
        required: true
        example: ABC123
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      device_name:
        name: device_name
        description: 'optional User-friendly device name.'
        required: false
        example: "John's iPhone"
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      device_type:
        name: device_type
        description: 'Device type (android/ios).'
        required: true
        example: android
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      app_version:
        name: app_version
        description: 'optional App version.'
        required: false
        example: 1.0.0
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      os_version:
        name: os_version
        description: 'optional OS version.'
        required: false
        example: 'Android 12'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      device_model:
        name: device_model
        description: 'optional Device model.'
        required: false
        example: 'Samsung Galaxy S21'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      screen_resolution:
        name: screen_resolution
        description: 'optional Screen resolution.'
        required: false
        example: 1080x2340
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      push_token:
        name: push_token
        description: 'optional Firebase push token for notifications.'
        required: false
        example: architecto
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
    cleanBodyParameters:
      mobile_number: '233244123456'
      pin: '123456'
      device_id: ABC123
      device_name: "John's iPhone"
      device_type: android
      app_version: 1.0.0
      os_version: 'Android 12'
      device_model: 'Samsung Galaxy S21'
      screen_resolution: 1080x2340
      push_token: architecto
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "data": {
              "user": {
                "id": 1,
                "mobile_number": "233244123456",
                "first_name": "John",
                "surname": "Doe",
                "full_name": "John Doe",
                "user_type": "mobile",
                "is_active": true,
                "payment_accounts": [
                  {
                    "id": 1,
                    "account_type": "momo",
                    "account_number": "233244123456",
                    "provider": "MTN",
                    "is_primary": true,
                    "is_verified": false
                  }
                ]
              },
              "token": "1|xyz789token123",
              "is_new_user": true,
              "is_new_device": true
            },
            "message": "Authentication successful",
            "status": 200
          }
        headers: []
        description: ''
        custom: []
      -
        status: 422
        content: |-
          {
            "message": "Invalid PIN or mobile number",
            "status": 422
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - POST
    uri: api/v1/auth/login
    metadata:
      groupName: Authentication
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Alternative login endpoint (uses same flow as register)'
      description: ''
      authenticated: false
      deprecated: false
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      mobile_number:
        name: mobile_number
        description: "The user's mobile number (10-15 digits). Must match the regex /^[0-9]{10,15}$/."
        required: true
        example: '0541234567'
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        custom: []
      pin:
        name: pin
        description: "The user's 4-6 digit PIN. Must match the regex /^[0-9]+$/. Must be at least 4 characters. Must not be greater than 6 characters."
        required: true
        example: '1234'
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        custom: []
      device_id:
        name: device_id
        description: 'Unique device identifier.'
        required: true
        example: device-12345-uuid
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        custom: []
      device_name:
        name: device_name
        description: 'Human readable device name. Must not be greater than 100 characters.'
        required: false
        example: "John's iPhone"
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      device_type:
        name: device_type
        description: 'Type of device (android or ios).'
        required: true
        example: ios
        type: string
        enumValues:
          - android
          - ios
        exampleWasSpecified: false
        nullable: false
        custom: []
      app_version:
        name: app_version
        description: 'Application version.'
        required: false
        example: 1.0.0
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      os_version:
        name: os_version
        description: 'Operating system version.'
        required: false
        example: '17.0'
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      device_model:
        name: device_model
        description: 'Device model.'
        required: false
        example: 'iPhone 15 Pro'
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      screen_resolution:
        name: screen_resolution
        description: 'Screen resolution of the device.'
        required: false
        example: 1179x2556
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      push_token:
        name: push_token
        description: 'Device token for push notifications.'
        required: false
        example: apn-token-xyz123
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
    cleanBodyParameters:
      mobile_number: '0541234567'
      pin: '1234'
      device_id: device-12345-uuid
      device_name: "John's iPhone"
      device_type: ios
      app_version: 1.0.0
      os_version: '17.0'
      device_model: 'iPhone 15 Pro'
      screen_resolution: 1179x2556
      push_token: apn-token-xyz123
    fileParameters: []
    responses: []
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - POST
    uri: api/v1/auth/logout
    metadata:
      groupName: Authentication
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Logout current device'
      description: ''
      authenticated: true
      deprecated: false
      custom: []
    headers:
      Authorization: 'Bearer Bearer {YOUR_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "data": {
              "user": {
                "id": 1,
                "mobile_number": "233244123456",
                "first_name": "John"
              },
              "reason": "user_initiated",
              "logged_out_at": "2025-08-15T08:45:00Z"
            },
            "message": "Logged out successfully",
            "status": 200
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - POST
    uri: api/v1/auth/logout-all
    metadata:
      groupName: Authentication
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Logout from all devices'
      description: ''
      authenticated: true
      deprecated: false
      custom: []
    headers:
      Authorization: 'Bearer Bearer {YOUR_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "data": {
              "user": {
                "id": 1,
                "mobile_number": "233244123456"
              },
              "device_sessions_count": 3,
              "reason": "user_initiated"
            },
            "message": "Logged out from all devices",
            "status": 200
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - GET
    uri: api/v1/auth/me
    metadata:
      groupName: Authentication
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Get current user profile'
      description: ''
      authenticated: true
      deprecated: false
      custom: []
    headers:
      Authorization: 'Bearer Bearer {YOUR_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "data": {
              "user": {
                "id": 1,
                "mobile_number": "233244123456",
                "first_name": "John",
                "surname": "Doe",
                "full_name": "John Doe",
                "country": {
                  "id": 1,
                  "name": "Ghana",
                  "code": "GH",
                  "currency_code": "GHS",
                  "currency_symbol": "₵",
                  "currency_name": "Ghana Cedi"
                },
                "payment_accounts": [],
                "device_sessions": []
              }
            },
            "message": "User profile retrieved",
            "status": 200
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
    custom: []
